<platformui:DialogWindow        
        xmlns:platformui="clr-namespace:Microsoft.VisualStudio.PlatformUI;assembly=Microsoft.VisualStudio.Shell.15.0"        
        xmlns:theme="clr-namespace:Community.VisualStudio.Toolkit"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"        
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"        
        x:Class="Cody.UI.Views.EditCodeView"        
        Title="Edit Code with Cody"        
        MinHeight="238"        
        MinWidth="600"        
        Height="238"         
        Width="600"        
        WindowStartupLocation="CenterOwner"        
        ResizeMode="CanResize"        
        ShowInTaskbar="False"        
        theme:Themes.UseVsTheme="True"        
        FocusManager.FocusedElement="{Binding ElementName=InputTextBox}">
    <Window.InputBindings>
        <KeyBinding Command="{Binding HistoryUpCommand}" Gesture="ALT+UP" />
        <KeyBinding Command="{Binding HistoryDownCommand}" Gesture="ALT+DOWN" />
    </Window.InputBindings>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <!-- Content Area -->
        <Grid Grid.Row="0" Margin="12,12,12,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Label Grid.Row="0"
                   Content="Type what changes you want to make to file:"                   
                   Target="{Binding ElementName=InputTextBox}"                   
                   HorizontalAlignment="Left"                   
                   Padding="0,0,0,5"                   
                   />
            <TextBox Grid.Row="1"
                     x:Name="InputTextBox"                     
                     Text="{Binding Instruction, UpdateSourceTrigger=PropertyChanged}"                  
                     TextWrapping="Wrap"                     
                     VerticalScrollBarVisibility="Auto"
                     Margin="0,0,0,12"/>
            <ComboBox Grid.Row="2"
                      Name="Model"                      
                      ItemsSource="{Binding Models.View}"                      
                      SelectedItem="{Binding SelectedModel}"                      
                      DisplayMemberPath="Name">
                <ComboBox.GroupStyle>
                    <GroupStyle>
                        <GroupStyle.HeaderTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Name}"          
                               FontWeight="Bold"
                               FontSize="{Binding RelativeSource={RelativeSource AncestorType=ComboBox}, Path=FontSize}"
                               Margin="2,4,2,2"/>
                            </DataTemplate>
                        </GroupStyle.HeaderTemplate>
                    </GroupStyle>
                </ComboBox.GroupStyle>
            </ComboBox>
        </Grid>
        <!-- Button Area -->
        <Grid Grid.Row="1" Margin="12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0" 
               Text="Alt+ðŸ¡¡ðŸ¡£ for history" 
               Foreground="Gray"
               VerticalAlignment="Center">
            </TextBlock>

            <Button Grid.Column="1"
            x:Name="EditButton"
            IsDefault="True"
            Content="Edit Code"
            Width="75"
            Height="23"
            Margin="0,0,6,0"
            IsEnabled="{Binding EditButtonIsEnabled}"
            Click="OnEditCodeClick"
            />

            <Button Grid.Column="2"
            x:Name="CancelButton"
            Content="Cancel"
            IsCancel="True"
            Width="75"
            Height="23"
            />
        </Grid>
    </Grid>
</platformui:DialogWindow>
